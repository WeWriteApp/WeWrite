/**
 * WeWrite Card Theme CSS
 * 
 * This file contains the CSS custom properties and classes for our
 * centralized card theme system. It provides consistent styling for
 * all card components across the application.
 * 
 * Based on Radix Colors design principles with semantic color tokens.
 */

/* ===== CARD THEME CSS VARIABLES ===== */

:root {
  /* Light theme card variables - solid backgrounds (NeutralColorContext will override) */
  --card-bg: oklch(1.00 0.00 0); /* Solid white */
  --card-bg-hover: oklch(0.97 0.00 0); /* Very light gray */
  --card-border: oklch(0.00 0.00 0 / 0.1); /* Black with 10% opacity */
  --card-border-hover: oklch(0.00 0.00 0 / 0.15);
  --card-text: oklch(0.16 0.13 274.7);
  --card-text-muted: oklch(0.49 0.14 267.5);
}

.dark {
  /* Dark theme card variables - solid backgrounds (NeutralColorContext will override) */
  --card-bg: oklch(0.16 0.00 0); /* Solid dark gray */
  --card-bg-hover: oklch(0.20 0.00 0); /* Slightly lighter dark gray */
  --card-border: oklch(1.00 0.00 158.2 / 0.08); /* White with 8% opacity */
  --card-border-hover: oklch(1.00 0.00 158.2 / 0.12);
  --card-text: oklch(0.98 0.00 158.2);
  --card-text-muted: oklch(0.68 0.00 158.2);
}

/* ===== UNIVERSAL CARD SYSTEM ===== */

/**
 * Universal WeWrite Card
 *
 * ONE card class for ALL components. This provides:
 * - Semi-transparent white overlay that adapts to any background
 * - Glassmorphism effect with backdrop blur
 * - Future-proof for custom background colors/images
 * - Consistent borders and shadows across light/dark themes
 * - Responsive hover states and accessibility support
 *
 * Design Philosophy: Cards are always lighter overlays on top of the background,
 * making them work beautifully with any background color or image.
 *
 * Use this class for ALL cards: daily notes, recent edits, content cards, etc.
 */
.wewrite-card {
  /* Solid background */
  background-color: var(--card-bg);

  /* Subtle, theme-aware borders */
  border: 1px solid var(--card-border);

  /* Text color */
  color: var(--card-text);

  /* Standard styling */
  border-radius: 1rem;
  padding: 1rem;
  transition: all 0.2s ease-in-out;

  /* Subtle card shadows */
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
}

.wewrite-card:hover {
  background-color: var(--card-bg-hover);
  border-color: var(--card-border-hover);
  /* Enhanced hover shadow */
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

.dark .wewrite-card {
  /* Dark mode shadows */
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
}

.dark .wewrite-card:hover {
  /* Dark mode hover shadow */
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
}

/* ===== CARD MODIFIERS ===== */

/**
 * Corner radius modifiers
 * Use these to customize border radius while keeping all other card properties
 */
.wewrite-card.wewrite-card-sharp {
  border-radius: 0;
}

.wewrite-card.wewrite-card-rounded-sm {
  border-radius: 0.25rem; /* 4px */
}

.wewrite-card.wewrite-card-rounded {
  border-radius: 0.5rem; /* 8px */
}

.wewrite-card.wewrite-card-rounded-lg {
  border-radius: 0.75rem; /* 12px */
}

.wewrite-card.wewrite-card-rounded-xl {
  border-radius: 1rem; /* 16px - default */
}

.wewrite-card.wewrite-card-rounded-2xl {
  border-radius: 1.5rem; /* 24px */
}

/**
 * Border modifiers
 * Use these to customize borders while keeping all other card properties
 */
.wewrite-card.wewrite-card-border-none {
  border: none;
}

.wewrite-card.wewrite-card-border-top {
  border: none;
  border-top: 1px solid var(--card-border);
}

.wewrite-card.wewrite-card-border-bottom {
  border: none;
  border-bottom: 1px solid var(--card-border);
}

.wewrite-card.wewrite-card-border-x {
  border: none;
  border-left: 1px solid var(--card-border);
  border-right: 1px solid var(--card-border);
}

.wewrite-card.wewrite-card-border-y {
  border: none;
  border-top: 1px solid var(--card-border);
  border-bottom: 1px solid var(--card-border);
}

/**
 * Padding modifiers
 * Use these to customize padding while keeping all other card properties
 */
.wewrite-card.wewrite-card-no-padding {
  padding: 0;
}

.wewrite-card.wewrite-card-padding-sm {
  padding: 0.5rem; /* 8px */
}

.wewrite-card.wewrite-card-padding-lg {
  padding: 1.5rem; /* 24px */
}

.wewrite-card.wewrite-card-padding-xl {
  padding: 2rem; /* 32px */
}

/* ===== TEXT UTILITY CLASSES ===== */

.wewrite-card-text {
  color: var(--card-text);
}

.wewrite-card-text-muted {
  color: var(--card-text-muted);
}

/* ===== CARD VARIANTS ===== */

/**
 * Card variants for specific use cases
 * All inherit from .wewrite-card base styling
 */

/* Daily notes cards - flex layout with enhanced shadows */
.wewrite-card.wewrite-daily-notes {
  display: flex;
  flex-direction: column;
  min-height: 13rem; /* h-52 */

  /* Enhanced shadows for better depth */
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
}

.dark .wewrite-card.wewrite-daily-notes {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
}

/* Floating cards - enhanced shadows */
.wewrite-card.wewrite-floating {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
}

.dark .wewrite-card.wewrite-floating {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */

@media (max-width: 768px) {
  .wewrite-card {
    padding: 0.75rem;
  }
}

@media (min-width: 1024px) {
  .wewrite-card:hover:not([role="dialog"]):not([data-modal-content]):not([aria-modal="true"] *) {
    transform: translateY(-1px);
  }
}

/* Prevent card hover transforms within modal contexts to fix positioning issues */
[role="dialog"] .wewrite-card:hover,
[aria-modal="true"] .wewrite-card:hover {
  transform: none !important;
}

/* Disable hover effects on expanded toolbar - keep it solid/opaque */
.wewrite-card[data-floating-card="toolbar"][data-expanded="true"]:hover {
  background-color: rgba(255, 255, 255, 0.95);
  border-color: var(--card-border);
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  transform: none;
}

.dark .wewrite-card[data-floating-card="toolbar"][data-expanded="true"]:hover {
  background-color: var(--card-bg);
  border-color: var(--border);
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
}

/* ===== LANDING PAGE CARD OVERRIDES ===== */

/* On landing page, use accent-tinted card styling that animates with scroll */
/* The JS sets --card-bg, --card-border etc. with proper accent-tinted values */
/* These CSS rules just ensure the JS-set values are used via var() */
html[data-landing-page="true"] .wewrite-card {
  /* Use JS-computed values, fallback to blue-tinted defaults */
  background-color: var(--card-bg, oklch(1.00 0.05 230 / 0.15));
  border-color: var(--card-border, oklch(0.30 0.15 230 / 0.15));
}

html[data-landing-page="true"] .wewrite-card:hover {
  background-color: var(--card-bg-hover, oklch(1.00 0.05 230 / 0.20));
  border-color: var(--card-border-hover, oklch(0.30 0.15 230 / 0.20));
}

html[data-landing-page="true"].dark .wewrite-card {
  background-color: var(--card-bg, oklch(0.98 0.10 230 / 0.06));
  border-color: var(--card-border, oklch(0.80 0.12 230 / 0.15));
}

html[data-landing-page="true"].dark .wewrite-card:hover {
  background-color: var(--card-bg-hover, oklch(0.98 0.10 230 / 0.08));
  border-color: var(--card-border-hover, oklch(0.80 0.12 230 / 0.20));
}

/* Ensure floating cards on landing page also get the accent-tinted styling */
html[data-landing-page="true"] .wewrite-card.wewrite-floating {
  background-color: var(--card-bg, oklch(1.00 0.05 230 / 0.15));
  border-color: var(--card-border, oklch(0.30 0.15 230 / 0.15));
}

html[data-landing-page="true"].dark .wewrite-card.wewrite-floating {
  background-color: var(--card-bg, oklch(0.98 0.10 230 / 0.06));
  border-color: var(--card-border, oklch(0.80 0.12 230 / 0.15));
}

/* ===== SUBTLE BORDER UTILITIES ===== */

/**
 * Subtle border utilities for headers and dividers
 *
 * Use these instead of border-border for a more subtle, card-like border effect.
 * These use the same --card-border color as cards for consistency.
 */

/* Bottom border - for headers */
.border-b-subtle {
  border-bottom: 1px solid var(--card-border);
}

/* Top border - for footers */
.border-t-subtle {
  border-top: 1px solid var(--card-border);
}

/* Full border - for containers */
.border-subtle {
  border: 1px solid var(--card-border);
}

/* ===== HIGH CONTRAST MODE SUPPORT ===== */

html[data-high-contrast="true"] .wewrite-card {
  border-width: 1px;
  border-color: var(--card-text);
}

html[data-high-contrast="true"] .wewrite-card-text-muted {
  color: var(--card-text);
}
