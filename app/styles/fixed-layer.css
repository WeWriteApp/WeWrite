/* Fixed Layer System - Viewport-fixed UI elements */

:root {
  /* Z-index scale - Proper stacking order */
  --z-fixed-header: 70;      /* FloatingFinancialHeader - body content layer */
  --z-fixed-toolbar: 80;     /* Navigation (sidebar, mobile nav) - above body content */
  --z-fixed-fab: 90;         /* FloatingActionButton - above navigation */
  --z-overlay: 100;          /* Overlays and backdrops */
  --z-modal: 1100;           /* For modals and dialogs */

  /* Safe positioning */
  --fixed-safe-top: 16px;
  --fixed-safe-bottom: max(env(safe-area-inset-bottom), 16px);

  /* Sidebar content offset - set by SidebarProvider via JS
   * This is the width that fixed elements should offset from the left edge
   * to avoid overlapping the desktop sidebar. Default to 0px (no sidebar).
   * Values: 0px (no user), 64px (collapsed), 256px (expanded) */
  --sidebar-content-offset: 0px;
}

/* FixedPortal root container */
#wewrite-fixed-layer-root {
  position: static;
  pointer-events: none;
}

/* Fixed element utilities */
.fixed-layer { position: fixed; pointer-events: auto; }
.fixed-top { top: var(--fixed-safe-top); left: 0; right: 0; }
.fixed-bottom { bottom: var(--fixed-safe-bottom); left: 0; right: 0; }

/* Sidebar-aware fixed header positioning
 * Use this class on desktop (md:) fixed headers to automatically offset from the sidebar
 * Mobile: Uses standard left: 12px positioning
 * Desktop: Uses left: calc(var(--sidebar-content-offset) + 12px) to clear the sidebar
 */
.fixed-header-sidebar-aware {
  position: fixed;
  top: 12px;
  left: 12px;
  right: 12px;
  z-index: var(--z-fixed-header);
  transition: left 300ms ease-in-out;
}

@media (min-width: 768px) {
  .fixed-header-sidebar-aware {
    left: calc(var(--sidebar-content-offset) + 24px);
    right: 24px;
  }
}

/* For desktop-only sidebar awareness (when mobile uses different positioning) */
@media (min-width: 1024px) {
  .lg\:fixed-header-sidebar-aware {
    position: fixed;
    top: 12px;
    left: calc(var(--sidebar-content-offset) + 24px);
    right: 24px;
    z-index: var(--z-fixed-header);
    transition: left 300ms ease-in-out;
  }
}

.z-fixed-header { z-index: var(--z-fixed-header); }
.z-fixed-toolbar { z-index: var(--z-fixed-toolbar); }
.z-fixed-fab { z-index: var(--z-fixed-fab); }
.z-overlay { z-index: var(--z-overlay); }
.z-modal {
  z-index: var(--z-modal);
  /* Ensure modal positioning is not affected by parent transforms */
  transform-style: flat;
  backface-visibility: visible;
}

/* Main content spacing */
@media (max-width: 767px) {
  main {
    padding-top: 72px;
    padding-bottom: 20px;
    transition: padding-top 300ms ease-in-out;
  }

  /* Dynamic banner spacing - controlled by inline styles for scroll-aware positioning */
}

@media (min-width: 768px) {
  main {
    padding-top: 72px;
    transition: padding-top 300ms ease-in-out;
  }
}

