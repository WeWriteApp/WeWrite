[debug] [2024-10-25T00:19:05.988Z] ----------------------------------------------------------------------
[debug] [2024-10-25T00:19:05.990Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Mufasa.DESKTOP-D13MJ2P\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --only functions
[debug] [2024-10-25T00:19:05.990Z] CLI Version:   13.23.0
[debug] [2024-10-25T00:19:05.990Z] Platform:      win32
[debug] [2024-10-25T00:19:05.990Z] Node Version:  v20.15.1
[debug] [2024-10-25T00:19:05.990Z] Time:          Fri Oct 25 2024 09:19:05 GMT+0900 (Japan Standard Time)
[debug] [2024-10-25T00:19:05.990Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-10-25T00:19:06.027Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-25T00:19:06.027Z] > authorizing via signed-in user (davidkano.dk@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2024-10-25T00:19:06.036Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-25T00:19:06.036Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-10-25T00:19:06.038Z] [hub] writing locator at C:\Users\MUFASA~1.DES\AppData\Local\Temp\hub-wewrite-ccd82.json
[debug] [2024-10-25T00:19:06.049Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-25T00:19:06.049Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-25T00:19:06.049Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-25T00:19:06.049Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2024-10-25T00:19:06.051Z] defaultcredentials: writing to file C:\Users\Mufasa.DESKTOP-D13MJ2P\AppData\Roaming\firebase\davidkano_dk_gmail.com_application_default_credentials.json
[debug] [2024-10-25T00:19:06.052Z] Setting GAC to C:\Users\Mufasa.DESKTOP-D13MJ2P\AppData\Roaming\firebase\davidkano_dk_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Mufasa.DESKTOP-D13MJ2P\\AppData\\Roaming\\firebase\\davidkano_dk_gmail.com_application_default_credentials.json"}}
[debug] [2024-10-25T00:19:06.052Z] Checked if tokens are valid: true, expires at: 1729819133535
[debug] [2024-10-25T00:19:06.053Z] Checked if tokens are valid: true, expires at: 1729819133535
[debug] [2024-10-25T00:19:06.053Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/wewrite-ccd82/adminSdkConfig [none]
[debug] [2024-10-25T00:19:07.055Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/wewrite-ccd82/adminSdkConfig 200
[debug] [2024-10-25T00:19:07.055Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/wewrite-ccd82/adminSdkConfig {"projectId":"wewrite-ccd82","databaseURL":"https://wewrite-ccd82-default-rtdb.firebaseio.com","storageBucket":"wewrite-ccd82.appspot.com"}
[debug] [2024-10-25T00:19:07.068Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-10-25T00:19:07.068Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-10-25T00:19:07.068Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Mufasa.DESKTOP-D13MJ2P\\.cache\\firebase\\emulators\\ui-v1.14.0\\server\\server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false,"port":4000} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Mufasa.DESKTOP-D13MJ2P\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.14.0\\\\server\\\\server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false,\"port\":4000}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-10-25T00:19:07.147Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-10-25T00:19:07.148Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "E:\Workspace\Asseph Project\WeWrite\WeWrite\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\" for Cloud Functions..."}}
[debug] [2024-10-25T00:19:07.294Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-10-25T00:19:09.309Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "@google-cloud/bigquery": "^7.9.0",
    "dotenv": "^16.4.5",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-25T00:19:09.309Z] Building nodejs source
[debug] [2024-10-25T00:19:09.309Z] Failed to find version of module node: reached end of search path E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\node_modules
[info] +  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: You are using a version of firebase-functions SDK (5.0.1) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2024-10-25T00:19:09.312Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-25T00:19:09.316Z] Found firebase-functions binary at 'E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8124

[debug] [2024-10-25T00:19:09.634Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/wewrite-ccd82"},"retry":false},"labels":{},"entryPoint":"createUser"},"createPage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","eventFilters":{"resource":"projects/wewrite-ccd82/databases/(default)/documents/pages/{pageId}"},"retry":false},"labels":{},"entryPoint":"createPage"},"updateGroupMembers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/google.firebase.database/eventTypes/ref.write","eventFilters":{"resource":"projects/_/instances/wewrite-ccd82-default-rtdb/refs/groups/{groupId}/members/{userId}"},"retry":false},"labels":{},"entryPoint":"updateGroupMembers"},"onDeleteGroup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/google.firebase.database/eventTypes/ref.delete","eventFilters":{"resource":"projects/_/instances/wewrite-ccd82-default-rtdb/refs/groups/{groupId}"},"retry":false},"labels":{},"entryPoint":"onDeleteGroup"},"stripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"stripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: createUser, createPage, updateGroupMembers, onDeleteGroup, stripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, createPage, updateGroupMembers, onDeleteGroup, stripeWebhook."}}
[debug] [2024-10-25T00:19:14.873Z] addAuthTrigger {"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/wewrite-ccd82"}}
[info] +  functions[us-central1-createUser]: auth function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mauth\u001b[22m function initialized."}}
[info] i  functions[us-central1-createPage]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] i  functions[us-central1-updateGroupMembers]: function ignored because the database emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the database emulator does not exist or is not running."}}
[info] i  functions[us-central1-onDeleteGroup]: function ignored because the database emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the database emulator does not exist or is not running."}}
[info] +  functions[us-central1-stripeWebhook]: http function initialized (http://127.0.0.1:5001/wewrite-ccd82/us-central1/stripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/wewrite-ccd82/us-central1/stripeWebhook)."}}
[debug] [2024-10-25T00:19:14.876Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-10-25T00:21:41.142Z] [work-queue] {"queuedWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.142Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-25T00:21:41.142Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.142Z"],"workRunningCount":1}
[debug] [2024-10-25T00:21:41.142Z] Accepted request POST /wewrite-ccd82/us-central1/stripeWebhook --> us-central1-stripeWebhook
[debug] [2024-10-25T00:21:41.142Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-25T00:21:41.142Z] [functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-25T00:21:41.148Z] [worker-pool] addWorker(us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-stripeWebhook)"}}
[debug] [2024-10-25T00:21:41.148Z] [worker-pool] Adding worker with key us-central1-stripeWebhook, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-stripeWebhook, total=1"}}
[debug] [2024-10-25T00:21:41.150Z] [work-queue] {"queuedWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.150Z"],"queueLength":1,"runningWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.142Z"],"workRunningCount":1}
[debug] [2024-10-25T00:21:41.150Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.142Z","/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.150Z"],"workRunningCount":2}
[debug] [2024-10-25T00:21:41.150Z] Accepted request POST /wewrite-ccd82/us-central1/stripeWebhook --> us-central1-stripeWebhook
[debug] [2024-10-25T00:21:41.150Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-25T00:21:41.150Z] [functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-25T00:21:41.153Z] [worker-pool] addWorker(us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-stripeWebhook)"}}
[debug] [2024-10-25T00:21:41.154Z] [worker-pool] Adding worker with key us-central1-stripeWebhook, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-stripeWebhook, total=2"}}
[debug] [2024-10-25T00:21:41.797Z] [runtime-status] [35816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.798Z] [runtime-status] [38336] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.799Z] [runtime-status] [35816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.799Z] [runtime-status] [38336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.799Z] [runtime-status] [38336] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-25T00:21:41.799Z] [runtime-status] [35816] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-25T00:21:41.800Z] [runtime-status] [38336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.800Z] [runtime-status] [35816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.904Z] [runtime-status] [38336] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [35816] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [35816] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [35816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [38336] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [38336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [38336] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.905Z] [runtime-status] [35816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.906Z] [runtime-status] [38336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.906Z] [runtime-status] [35816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:21:41.906Z] [runtime-status] [38336] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-25T00:21:41.906Z] [runtime-status] [35816] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-25T00:21:41.966Z] [runtime-status] [38336] initializeApp(DEFAULT) {"storageBucket":"wewrite-ccd82.appspot.com","databaseURL":"https://wewrite-ccd82-default-rtdb.firebaseio.com","projectId":"wewrite-ccd82"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] initializeApp(DEFAULT) {\"storageBucket\":\"wewrite-ccd82.appspot.com\",\"databaseURL\":\"https://wewrite-ccd82-default-rtdb.firebaseio.com\",\"projectId\":\"wewrite-ccd82\"}"}}
[warn] !  functions: The Realtime Database emulator is not running, so calls to Realtime Database will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"The Realtime Database emulator is not running, so calls to Realtime Database will affect production."}}
[debug] [2024-10-25T00:21:41.966Z] [runtime-status] [35816] initializeApp(DEFAULT) {"storageBucket":"wewrite-ccd82.appspot.com","databaseURL":"https://wewrite-ccd82-default-rtdb.firebaseio.com","projectId":"wewrite-ccd82"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] initializeApp(DEFAULT) {\"storageBucket\":\"wewrite-ccd82.appspot.com\",\"databaseURL\":\"https://wewrite-ccd82-default-rtdb.firebaseio.com\",\"projectId\":\"wewrite-ccd82\"}"}}
[debug] [2024-10-25T00:21:42.008Z] [runtime-status] [35816] Functions runtime initialized. {"cwd":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions","node_version":"20.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Functions runtime initialized. {\"cwd\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\",\"node_version\":\"20.15.1\"}"}}
[debug] [2024-10-25T00:21:42.008Z] [runtime-status] [38336] Functions runtime initialized. {"cwd":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions","node_version":"20.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Functions runtime initialized. {\"cwd\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\",\"node_version\":\"20.15.1\"}"}}
[debug] [2024-10-25T00:21:42.009Z] [runtime-status] [38336] Listening to port: \\?\pipe\fire_emu_e442910f3b56819e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [38336] Listening to port: \\\\?\\pipe\\fire_emu_e442910f3b56819e"}}
[debug] [2024-10-25T00:21:42.009Z] [runtime-status] [35816] Listening to port: \\?\pipe\fire_emu_2ce533d722ffccd9 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [35816] Listening to port: \\\\?\\pipe\\fire_emu_2ce533d722ffccd9"}}
[debug] [2024-10-25T00:21:42.012Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: IDLE"}}
[debug] [2024-10-25T00:21:42.013Z] [worker-pool] submitRequest(triggerId=us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-stripeWebhook)"}}
[info] i  functions: Beginning execution of "us-central1-stripeWebhook" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Beginning execution of \"us-central1-stripeWebhook\""}}
[debug] [2024-10-25T00:21:42.013Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: BUSY"}}
[debug] [2024-10-25T00:21:42.014Z] [worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: IDLE"}}
[debug] [2024-10-25T00:21:42.014Z] [worker-pool] submitRequest(triggerId=us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-stripeWebhook)"}}
[info] i  functions: Beginning execution of "us-central1-stripeWebhook" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Beginning execution of \"us-central1-stripeWebhook\""}}
[debug] [2024-10-25T00:21:42.014Z] [worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: BUSY"}}
[info] >  Unhandled event type checkout.session.completed {"user":"Unhandled event type checkout.session.completed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m Unhandled event type checkout.session.completed"}}
[info] >  Unhandled event type charge.succeeded {"user":"Unhandled event type charge.succeeded","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m Unhandled event type charge.succeeded"}}
[debug] [2024-10-25T00:21:42.023Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-stripeWebhook" in 9.0536ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finished \"us-central1-stripeWebhook\" in 9.0536ms"}}
[debug] [2024-10-25T00:21:42.024Z] [worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: IDLE"}}
[debug] [2024-10-25T00:21:42.024Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-25T00:21:42.024Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:21:41.142Z"],"workRunningCount":1}
[debug] [2024-10-25T00:21:42.025Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-stripeWebhook" in 11.2161ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finished \"us-central1-stripeWebhook\" in 11.2161ms"}}
[debug] [2024-10-25T00:21:42.025Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: IDLE"}}
[debug] [2024-10-25T00:21:42.025Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-25T00:21:42.025Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-25T00:27:38.734Z] [work-queue] {"queuedWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:27:38.734Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-25T00:27:38.734Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:27:38.734Z"],"workRunningCount":1}
[debug] [2024-10-25T00:27:38.734Z] Accepted request POST /wewrite-ccd82/us-central1/stripeWebhook --> us-central1-stripeWebhook
[debug] [2024-10-25T00:27:38.734Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-25T00:27:38.734Z] [functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/"}}
[debug] [2024-10-25T00:27:38.734Z] [worker-pool] submitRequest(triggerId=us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-stripeWebhook)"}}
[info] i  functions: Beginning execution of "us-central1-stripeWebhook" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Beginning execution of \"us-central1-stripeWebhook\""}}
[debug] [2024-10-25T00:27:38.735Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: BUSY"}}
[info] >  Unhandled event type checkout.session.completed {"user":"Unhandled event type checkout.session.completed","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m Unhandled event type checkout.session.completed"}}
[debug] [2024-10-25T00:27:38.737Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-stripeWebhook" in 2.5954ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finished \"us-central1-stripeWebhook\" in 2.5954ms"}}
[debug] [2024-10-25T00:27:38.738Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: IDLE"}}
[debug] [2024-10-25T00:27:38.738Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-25T00:27:38.738Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-25T00:27:38.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-25T00:27:55.619Z] File E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-10-25T00:27:56.624Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-10-25T00:27:58.665Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "@google-cloud/bigquery": "^7.9.0",
    "dotenv": "^16.4.5",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-25T00:27:58.665Z] Building nodejs source
[debug] [2024-10-25T00:27:58.665Z] Failed to find version of module node: reached end of search path E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\node_modules
[info] +  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: You are using a version of firebase-functions SDK (5.0.1) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2024-10-25T00:27:58.667Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-25T00:27:58.673Z] Found firebase-functions binary at 'E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8673

[debug] [2024-10-25T00:27:58.991Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/wewrite-ccd82"},"retry":false},"labels":{},"entryPoint":"createUser"},"createPage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","eventFilters":{"resource":"projects/wewrite-ccd82/databases/(default)/documents/pages/{pageId}"},"retry":false},"labels":{},"entryPoint":"createPage"},"updateGroupMembers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/google.firebase.database/eventTypes/ref.write","eventFilters":{"resource":"projects/_/instances/wewrite-ccd82-default-rtdb/refs/groups/{groupId}/members/{userId}"},"retry":false},"labels":{},"entryPoint":"updateGroupMembers"},"onDeleteGroup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/google.firebase.database/eventTypes/ref.delete","eventFilters":{"resource":"projects/_/instances/wewrite-ccd82-default-rtdb/refs/groups/{groupId}"},"retry":false},"labels":{},"entryPoint":"onDeleteGroup"},"stripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"stripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: createUser, createPage, updateGroupMembers, onDeleteGroup, stripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, createPage, updateGroupMembers, onDeleteGroup, stripeWebhook."}}
[debug] [2024-10-25T00:28:04.232Z] [worker-pool] Shutting down IDLE worker (us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-stripeWebhook)"}}
[debug] [2024-10-25T00:28:04.232Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: FINISHING"}}
[debug] [2024-10-25T00:28:04.233Z] [worker-pool] Shutting down IDLE worker (us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-stripeWebhook)"}}
[debug] [2024-10-25T00:28:04.233Z] [worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: FINISHING"}}
[debug] [2024-10-25T00:28:04.242Z] [worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: exited"}}
[debug] [2024-10-25T00:28:04.242Z] [worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a1dfb2ed-ff41-4427-8070-edb8292ba581]: FINISHED"}}
[debug] [2024-10-25T00:28:04.242Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: exited"}}
[debug] [2024-10-25T00:28:04.242Z] [worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-a4e20130-72bf-4abc-8c65-f8fd0fb421a2]: FINISHED"}}
[debug] [2024-10-25T00:28:04.510Z] [work-queue] {"queuedWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:28:04.510Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-25T00:28:04.510Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/wewrite-ccd82/us-central1/stripeWebhook-2024-10-25T00:28:04.510Z"],"workRunningCount":1}
[debug] [2024-10-25T00:28:04.510Z] Accepted request POST /wewrite-ccd82/us-central1/stripeWebhook --> us-central1-stripeWebhook
[debug] [2024-10-25T00:28:04.510Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-25T00:28:04.510Z] [functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/wewrite-ccd82/us-central1/stripeWebhook, mapping to path=/"}}
[debug] [2024-10-25T00:28:04.510Z] [worker-pool] Cleaned up workers for us-central1-stripeWebhook: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-stripeWebhook: 2 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-25T00:28:04.514Z] [worker-pool] addWorker(us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-stripeWebhook)"}}
[debug] [2024-10-25T00:28:04.514Z] [worker-pool] Adding worker with key us-central1-stripeWebhook, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-stripeWebhook, total=1"}}
[debug] [2024-10-25T00:28:05.161Z] [runtime-status] [5212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-25T00:28:05.162Z] [runtime-status] [5212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:28:05.162Z] [runtime-status] [5212] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-25T00:28:05.163Z] [runtime-status] [5212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:28:05.262Z] [runtime-status] [5212] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-25T00:28:05.263Z] [runtime-status] [5212] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-25T00:28:05.263Z] [runtime-status] [5212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:28:05.263Z] [runtime-status] [5212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-25T00:28:05.264Z] [runtime-status] [5212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-25T00:28:05.264Z] [runtime-status] [5212] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-25T00:28:05.320Z] [runtime-status] [5212] initializeApp(DEFAULT) {"storageBucket":"wewrite-ccd82.appspot.com","databaseURL":"https://wewrite-ccd82-default-rtdb.firebaseio.com","projectId":"wewrite-ccd82"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] initializeApp(DEFAULT) {\"storageBucket\":\"wewrite-ccd82.appspot.com\",\"databaseURL\":\"https://wewrite-ccd82-default-rtdb.firebaseio.com\",\"projectId\":\"wewrite-ccd82\"}"}}
[debug] [2024-10-25T00:28:05.362Z] [runtime-status] [5212] Functions runtime initialized. {"cwd":"E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions","node_version":"20.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Functions runtime initialized. {\"cwd\":\"E:\\\\Workspace\\\\Asseph Project\\\\WeWrite\\\\WeWrite\\\\functions\",\"node_version\":\"20.15.1\"}"}}
[debug] [2024-10-25T00:28:05.362Z] [runtime-status] [5212] Listening to port: \\?\pipe\fire_emu_fbc13154a8f5e979 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[runtime-status] [5212] Listening to port: \\\\?\\pipe\\fire_emu_fbc13154a8f5e979"}}
[debug] [2024-10-25T00:28:05.366Z] [worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: IDLE"}}
[debug] [2024-10-25T00:28:05.366Z] [worker-pool] submitRequest(triggerId=us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-stripeWebhook)"}}
[info] i  functions: Beginning execution of "us-central1-stripeWebhook" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Beginning execution of \"us-central1-stripeWebhook\""}}
[debug] [2024-10-25T00:28:05.366Z] [worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: BUSY"}}
[info] >  PaymentIntent was successful! { {"user":"PaymentIntent was successful! {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m PaymentIntent was successful! {"}}
[info] >    id: 'cs_test_a1m4dIxF12jm4TcJWShAriv3GxsIjXvA20ix7XRFen2ADBngqiWyMueRjy', {"user":"  id: 'cs_test_a1m4dIxF12jm4TcJWShAriv3GxsIjXvA20ix7XRFen2ADBngqiWyMueRjy',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'cs_test_a1m4dIxF12jm4TcJWShAriv3GxsIjXvA20ix7XRFen2ADBngqiWyMueRjy',"}}
[info] >    object: 'checkout.session', {"user":"  object: 'checkout.session',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'checkout.session',"}}
[info] >    after_expiration: null, {"user":"  after_expiration: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   after_expiration: null,"}}
[info] >    allow_promotion_codes: null, {"user":"  allow_promotion_codes: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   allow_promotion_codes: null,"}}
[info] >    amount_subtotal: 1000, {"user":"  amount_subtotal: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount_subtotal: 1000,"}}
[info] >    amount_total: 1000, {"user":"  amount_total: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount_total: 1000,"}}
[info] >    automatic_tax: { enabled: false, liability: null, status: null }, {"user":"  automatic_tax: { enabled: false, liability: null, status: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   automatic_tax: { enabled: false, liability: null, status: null },"}}
[info] >    billing_address_collection: null, {"user":"  billing_address_collection: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   billing_address_collection: null,"}}
[info] >    cancel_url: 'http://localhost:3000/profile', {"user":"  cancel_url: 'http://localhost:3000/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   cancel_url: 'http://localhost:3000/profile',"}}
[info] >    client_reference_id: null, {"user":"  client_reference_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   client_reference_id: null,"}}
[info] >    client_secret: null, {"user":"  client_secret: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   client_secret: null,"}}
[info] >    consent: null, {"user":"  consent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   consent: null,"}}
[info] >    consent_collection: null, {"user":"  consent_collection: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   consent_collection: null,"}}
[info] >    created: 1729815686, {"user":"  created: 1729815686,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   created: 1729815686,"}}
[info] >    currency: 'usd', {"user":"  currency: 'usd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   currency: 'usd',"}}
[info] >    currency_conversion: null, {"user":"  currency_conversion: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   currency_conversion: null,"}}
[info] >    custom_fields: [], {"user":"  custom_fields: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   custom_fields: [],"}}
[info] >    custom_text: { {"user":"  custom_text: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   custom_text: {"}}
[info] >      after_submit: null, {"user":"    after_submit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     after_submit: null,"}}
[info] >      shipping_address: null, {"user":"    shipping_address: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     shipping_address: null,"}}
[info] >      submit: null, {"user":"    submit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     submit: null,"}}
[info] >      terms_of_service_acceptance: null {"user":"    terms_of_service_acceptance: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     terms_of_service_acceptance: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    customer: 'cus_R5mro6rrWojuPo', {"user":"  customer: 'cus_R5mro6rrWojuPo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer: 'cus_R5mro6rrWojuPo',"}}
[info] >    customer_creation: null, {"user":"  customer_creation: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_creation: null,"}}
[info] >    customer_details: { {"user":"  customer_details: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_details: {"}}
[info] >      address: { {"user":"    address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     address: {"}}
[info] >        city: null, {"user":"      city: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m       city: null,"}}
[info] >        country: 'US', {"user":"      country: 'US',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m       country: 'US',"}}
[info] >        line1: null, {"user":"      line1: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m       line1: null,"}}
[info] >        line2: null, {"user":"      line2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m       line2: null,"}}
[info] >        postal_code: '22223', {"user":"      postal_code: '22223',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m       postal_code: '22223',"}}
[info] >        state: null {"user":"      state: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m       state: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      email: 'davidkano.dk@gmail.com', {"user":"    email: 'davidkano.dk@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'davidkano.dk@gmail.com',"}}
[info] >      name: 'sol_maxi_', {"user":"    name: 'sol_maxi_',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'sol_maxi_',"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      tax_exempt: 'none', {"user":"    tax_exempt: 'none',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     tax_exempt: 'none',"}}
[info] >      tax_ids: [] {"user":"    tax_ids: []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     tax_ids: []"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    customer_email: null, {"user":"  customer_email: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_email: null,"}}
[info] >    expires_at: 1729902086, {"user":"  expires_at: 1729902086,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   expires_at: 1729902086,"}}
[info] >    invoice: 'in_1QDbHaIsJOA8IjJRFUmvfj5z', {"user":"  invoice: 'in_1QDbHaIsJOA8IjJRFUmvfj5z',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   invoice: 'in_1QDbHaIsJOA8IjJRFUmvfj5z',"}}
[info] >    invoice_creation: null, {"user":"  invoice_creation: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   invoice_creation: null,"}}
[info] >    livemode: false, {"user":"  livemode: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   livemode: false,"}}
[info] >    locale: null, {"user":"  locale: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   locale: null,"}}
[info] >    metadata: { type: 'deposit', userId: 'a0OcaSnZYFQj871ymdgXx6kTSXC2' }, {"user":"  metadata: { type: 'deposit', userId: 'a0OcaSnZYFQj871ymdgXx6kTSXC2' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: { type: 'deposit', userId: 'a0OcaSnZYFQj871ymdgXx6kTSXC2' },"}}
[info] >    mode: 'subscription', {"user":"  mode: 'subscription',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   mode: 'subscription',"}}
[info] >    payment_intent: null, {"user":"  payment_intent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: null,"}}
[info] >    payment_link: null, {"user":"  payment_link: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_link: null,"}}
[info] >    payment_method_collection: 'always', {"user":"  payment_method_collection: 'always',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_collection: 'always',"}}
[info] >    payment_method_configuration_details: null, {"user":"  payment_method_configuration_details: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_configuration_details: null,"}}
[info] >    payment_method_options: { card: { request_three_d_secure: 'automatic' } }, {"user":"  payment_method_options: { card: { request_three_d_secure: 'automatic' } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_options: { card: { request_three_d_secure: 'automatic' } },"}}
[info] >    payment_method_types: [ 'card' ], {"user":"  payment_method_types: [ 'card' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_types: [ 'card' ],"}}
[info] >    payment_status: 'paid', {"user":"  payment_status: 'paid',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_status: 'paid',"}}
[info] >    phone_number_collection: { enabled: false }, {"user":"  phone_number_collection: { enabled: false },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone_number_collection: { enabled: false },"}}
[info] >    recovered_from: null, {"user":"  recovered_from: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   recovered_from: null,"}}
[info] >    saved_payment_method_options: { {"user":"  saved_payment_method_options: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   saved_payment_method_options: {"}}
[info] >      allow_redisplay_filters: [ 'always' ], {"user":"    allow_redisplay_filters: [ 'always' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     allow_redisplay_filters: [ 'always' ],"}}
[info] >      payment_method_remove: null, {"user":"    payment_method_remove: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     payment_method_remove: null,"}}
[info] >      payment_method_save: null {"user":"    payment_method_save: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m     payment_method_save: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    setup_intent: null, {"user":"  setup_intent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: null,"}}
[info] >    shipping_address_collection: null, {"user":"  shipping_address_collection: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_address_collection: null,"}}
[info] >    shipping_cost: null, {"user":"  shipping_cost: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_cost: null,"}}
[info] >    shipping_details: null, {"user":"  shipping_details: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_details: null,"}}
[info] >    shipping_options: [], {"user":"  shipping_options: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_options: [],"}}
[info] >    status: 'complete', {"user":"  status: 'complete',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'complete',"}}
[info] >    submit_type: null, {"user":"  submit_type: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   submit_type: null,"}}
[info] >    subscription: 'sub_1QDbHaIsJOA8IjJRHfIRVoFY', {"user":"  subscription: 'sub_1QDbHaIsJOA8IjJRHfIRVoFY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   subscription: 'sub_1QDbHaIsJOA8IjJRHfIRVoFY',"}}
[info] >    success_url: 'http://localhost:3000/profile', {"user":"  success_url: 'http://localhost:3000/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   success_url: 'http://localhost:3000/profile',"}}
[info] >    total_details: { amount_discount: 0, amount_shipping: 0, amount_tax: 0 }, {"user":"  total_details: { amount_discount: 0, amount_shipping: 0, amount_tax: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_details: { amount_discount: 0, amount_shipping: 0, amount_tax: 0 },"}}
[info] >    ui_mode: 'hosted', {"user":"  ui_mode: 'hosted',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   ui_mode: 'hosted',"}}
[info] >    url: null {"user":"  url: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m   url: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-25T00:28:05.388Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-stripeWebhook" in 21.5071ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finished \"us-central1-stripeWebhook\" in 21.5071ms"}}
[debug] [2024-10-25T00:28:05.388Z] [worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: IDLE"}}
[debug] [2024-10-25T00:28:05.388Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-25T00:28:05.388Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-25T00:28:05.388Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  UserID a0OcaSnZYFQj871ymdgXx6kTSXC2 deposit {"user":"UserID a0OcaSnZYFQj871ymdgXx6kTSXC2 deposit","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"\u001b[90m> \u001b[39m UserID a0OcaSnZYFQj871ymdgXx6kTSXC2 deposit"}}
[debug] [2024-10-25T00:28:39.424Z] File E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\Workspace\\Asseph Project\\WeWrite\\WeWrite\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-10-25T00:28:40.432Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-10-25T00:28:42.217Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "@google-cloud/bigquery": "^7.9.0",
    "dotenv": "^16.4.5",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-10-25T00:28:42.217Z] Building nodejs source
[debug] [2024-10-25T00:28:42.217Z] Failed to find version of module node: reached end of search path E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\node_modules
[info] +  functions: Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: You are using a version of firebase-functions SDK (5.0.1) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2024-10-25T00:28:42.218Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-25T00:28:42.223Z] Found firebase-functions binary at 'E:\Workspace\Asseph Project\WeWrite\WeWrite\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8182

[debug] [2024-10-25T00:28:42.541Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/wewrite-ccd82"},"retry":false},"labels":{},"entryPoint":"createUser"},"createPage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","eventFilters":{"resource":"projects/wewrite-ccd82/databases/(default)/documents/pages/{pageId}"},"retry":false},"labels":{},"entryPoint":"createPage"},"updateGroupMembers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/google.firebase.database/eventTypes/ref.write","eventFilters":{"resource":"projects/_/instances/wewrite-ccd82-default-rtdb/refs/groups/{groupId}/members/{userId}"},"retry":false},"labels":{},"entryPoint":"updateGroupMembers"},"onDeleteGroup":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/google.firebase.database/eventTypes/ref.delete","eventFilters":{"resource":"projects/_/instances/wewrite-ccd82-default-rtdb/refs/groups/{groupId}"},"retry":false},"labels":{},"entryPoint":"onDeleteGroup"},"stripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"stripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: createUser, createPage, updateGroupMembers, onDeleteGroup, stripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, createPage, updateGroupMembers, onDeleteGroup, stripeWebhook."}}
[debug] [2024-10-25T00:28:47.774Z] [worker-pool] Shutting down IDLE worker (us-central1-stripeWebhook) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-stripeWebhook)"}}
[debug] [2024-10-25T00:28:47.774Z] [worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: FINISHING"}}
[debug] [2024-10-25T00:28:47.781Z] [worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: exited"}}
[debug] [2024-10-25T00:28:47.781Z] [worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-stripeWebhook"},"extension":{},"message":"[worker-us-central1-stripeWebhook-8e2554da-8ac3-45da-acbd-4406beb82376]: FINISHED"}}
